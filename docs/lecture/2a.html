<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Mitchell Kember">
  <title>SICP Lecture 2A Notes</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
<header class="header ">
  <a class="title link" href="../index.html">SICP Study</a>
  <nav class="sitenav">
    <a class="sitenav__item link "
      href="../text/index.html">Text</a>
    <a class="sitenav__item link  sitenav__item--active"
      href="../lecture/index.html">Lecture</a>
    <a class="sitenav__item link "
      href="../exercise/index.html">Exercise</a>
    <a class="sitenav__item sitenav__item--last link" href="https://github.com/mk12/sicp">
      Source <svg class="github-mark" width="25" height="25" viewBox="0 0 136 133">
  <g transform="matrix(1,0,0,1,-568.001,-447.669)">
    <g transform="matrix(4.16667,0,0,4.16667,0,0)">
      <g transform="matrix(1,0,0,1,152.608,139.345)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.778 -11.354,-8.279 -11.354,-8.279C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.154 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.237C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.839 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.839 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904"/>
      </g>
    </g>
  </g>
</svg>
    </a>
  </nav>
</header>
<nav class="pagenav pagenav--top">
  <div class="pagenav__item pagenav__item--prev">
    <a class="pagenav__link link" href="1b.html">
      <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="5" y1="12" x2="19" y2="12"/>
  <line x1="5" y1="12" x2="11" y2="18"/>
  <line x1="5" y1="12" x2="11" y2="6"/>
</svg> Prev
    </a>
  </div>
  <div class="pagenav__item pagenav__item--up">
    <a class="pagenav__link link" href="index.html"><svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.75" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="12" y1="5" x2="12" y2="19"/>
  <line x1="18" y1="11" x2="12" y2="5"/>
  <line x1="6" y1="11" x2="12" y2="5"/>
</svg> Up</a>
  </div>
  <div class="pagenav__item pagenav__item--next">
    <a class="pagenav__link link" href="2b.html">
      Next <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="5" y1="12" x2="19" y2="12"/>
  <line x1="13" y1="18" x2="19" y2="12"/>
  <line x1="13" y1="6" x2="19" y2="12"/>
</svg>
    </a>
  </div>
</nav>
<h1>
<small class="number">2A</small>Higher-Order Procedures
</h1>
<h2 id="1" class="anchor">
<a class="anchor__link link" href="#1">#</a>Part 1
</h2>
<h3 id="1.1" class="anchor">
<a class="anchor__link link" href="#1.1">#</a>Don’t repeat yourself
</h3>
<ul>
<li>So far Lisp might just seem like a different language with funny syntax. It’s time to shatter that illusion.</li>
<li>We are already familiar with creating recursive procedures that, for example, calculate the sum of integers from <span class="math inline">A</span> to <span class="math inline">B</span>.</li>
<li>What about the sum of the squares of the integers from <span class="math inline">A</span> to <span class="math inline">B</span>? That’s almost the same program! We don’t like repetition.</li>
</ul>
<blockquote>
<p>Whenever you see yourself writing the same thing down more than once, there’s something wrong and you shouldn’t be doing it. And the reason is not because it’s a waste of time to write something down more than once. It’s because there’s some idea here, a very simple idea….</p>
</blockquote>
<ul>
<li>It is crucial to divide problems up into as many pieces as is reasonable. We must be able to understand each in isolation.</li>
<li>No repetition means you only write it once, but also only understand and debug it once!</li>
<li>Any time you see things that are almost identical, think of an abstraction to cover them.</li>
<li>An <em>idiom</em> is a common pattern in a language that is useful to know. In Lisp, we can give idioms names and abstract them.</li>
<li>There is nothing very special about numbers. Numbers are just one kind of data. Procedures are also data.</li>
</ul>
<h3 id="1.2" class="anchor">
<a class="anchor__link link" href="#1.2">#</a>Summation
</h3>
<p>We can represent the sigma notation with a procedure that takes other procedures as arguments:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="ex">define</span><span class="fu"> </span>(sum term a next b)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">if</span> (<span class="op">&gt;</span> a b)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      (<span class="op">+</span> (term a)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>         (sum term (next a) next b))))</span></code></pre></div>
<p>Now we can write particular cases easily, without repeating ourselves:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="ex">define</span><span class="fu"> </span>(sum-int a b)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  (<span class="ex">define</span><span class="fu"> </span>(identity x) x)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  (sum identity a <span class="dv">1</span>+ b))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>(<span class="ex">define</span><span class="fu"> </span>(sum-sq a b)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  (sum square a <span class="dv">1</span>+ b))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>(<span class="ex">define</span><span class="fu"> </span>(pi-sum a b)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  (sum (<span class="kw">lambda</span> (i) (<span class="op">/</span> i (<span class="op">*</span> i (<span class="op">+</span> i <span class="dv">2</span>))))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>       a</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>       (<span class="kw">lambda</span> (i) (<span class="op">+</span> i <span class="dv">4</span>))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>       b))</span></code></pre></div>
<p>We are separating the things we are adding up from the method of doing the addition. Now, we can change the sum procedure so that it generates an iterative process, and all the specific procedures using sum will benefit.</p>
<h2 id="2" class="anchor">
<a class="anchor__link link" href="#2">#</a>Part 2
</h2>
<h3 id="2.1" class="anchor">
<a class="anchor__link link" href="#2.1">#</a>Higher-order procedures
</h3>
<ul>
<li>We use abstraction for the purpose of making programs easier to read and write.</li>
<li>Abstraction helps us to clarify what’s going on.</li>
<li>Our square root algorithm was a specific instance of the more general fixed-point search.</li>
<li>The damping part is also a general signal processing strategy, and we can also treat is as a separate thing using a higher-order procedure.</li>
<li>Higher-order procedures can take procedures as arguments and they can return new procedures.</li>
</ul>
<h2 id="3" class="anchor">
<a class="anchor__link link" href="#3">#</a>Part 3
</h2>
<h3 id="3.1" class="anchor">
<a class="anchor__link link" href="#3.1">#</a>Newton’s method
</h3>
<ul>
<li>Newton’s method: general method to find the zeros (an <span class="math inline">x</span> such that <span class="math inline">f(x) = 0</span>).</li>
<li>We can use the fixed-point procedure to define a procedure for computing zeros using Newton’s method.</li>
</ul>
<blockquote>
<p>Wishful thinking: essential to good engineering. And especially essential to good computer science.</p>
</blockquote>
<ul>
<li>We can use names of procedures that we haven’t defined yet while writing a program (top-down design).</li>
</ul>
<h3 id="3.2" class="anchor">
<a class="anchor__link link" href="#3.2">#</a>The rights and privileges of first-class citizens
</h3>
<ul>
<li>To be named by variables.</li>
<li>To be passed as arguments to procedures.</li>
<li>To be returned as values of procedures.</li>
<li>To be incorporating into data structures.</li>
</ul>
<nav class="pagenav pagenav--bottom">
  <div class="pagenav__item pagenav__item--prev">
    <a class="pagenav__link link" href="1b.html">
      <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="5" y1="12" x2="19" y2="12"/>
  <line x1="5" y1="12" x2="11" y2="18"/>
  <line x1="5" y1="12" x2="11" y2="6"/>
</svg> Prev
    </a>
  </div>
  <div class="pagenav__item pagenav__item--up">
    <a class="pagenav__link link" href="index.html"><svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.75" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="12" y1="5" x2="12" y2="19"/>
  <line x1="18" y1="11" x2="12" y2="5"/>
  <line x1="6" y1="11" x2="12" y2="5"/>
</svg> Up</a>
  </div>
  <div class="pagenav__item pagenav__item--next">
    <a class="pagenav__link link" href="2b.html">
      Next <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <line x1="5" y1="12" x2="19" y2="12"/>
  <line x1="13" y1="18" x2="19" y2="12"/>
  <line x1="13" y1="6" x2="19" y2="12"/>
</svg>
    </a>
  </div>
</nav>
<footer class="footer">
  © 2020 Mitchell Kember
</footer>
</body>
</html>
