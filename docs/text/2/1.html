<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Mitchell Kember">
  <title>SICP Section 2.1 Notes</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <link rel="stylesheet" href="../../assets/style.css">
</head>
<body>
<div hidden>
  <svg>
    <symbol id="up" viewBox="0 0 11 12">
      <path fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" d="M5.5.8v10.4m4.457-5.943L5.5.8 1.043 5.257"/>
    </symbol>
    <symbol id="left" viewBox="0 0 12 11">
      <path fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" d="M.8 5.5h10.4M5.257 9.957L.8 5.5l4.457-4.457">
    </symbol>
    <symbol id="right" viewBox="0 0 12 11">
      <use xlink:href="#left" transform="matrix(-1 0 0 1 12 0)"/>
    </symbol>
    <symbol id="external" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M10.688 5.438H4.125A2.65 2.65 0 001.5 8.063v11.812A2.65 2.65 0 004.125 22.5h11.813a2.65 2.65 0 002.624-2.625v-6.563m-9.187 1.313L22.5 1.5m-6.563 0H22.5v6.563"/>
    </symbol>
  </svg>
</div>
<a class="skip-link" href="#main">Skip to main content</a>
<header class="header">
  <a class="title link" href="../../index.html">SICP Study</a>
  <nav class="sitenav" aria-label="site">
    <a class="sitenav__item sitenav__item--active link"
        href="../../text/index.html" aria-label="textbook notes">Text</a>
    <a class="sitenav__item link"
        href="../../lecture/index.html" aria-label="lecture notes">Lecture</a>
    <a class="sitenav__item link"
        href="../../exercise/index.html" aria-label="exercises">Exercise</a>
    <a class="sitenav__item sitenav__item--last link"
        href="https://github.com/mk12/sicp" aria-label="GitHub repository">
      Source
      <svg alt="" class="github-mark" width="25" height="25" viewBox="0 0 136 133">
        <path fill="currentColor" d="M67.866.002C30.387.002 0 30.39 0 67.877c0 29.988 19.446 55.425 46.417 64.404 3.396.621 4.633-1.475 4.633-3.275 0-1.608-.058-5.879-.091-11.541-18.88 4.1-22.863-9.1-22.863-9.1-3.087-7.838-7.537-9.925-7.537-9.925-6.163-4.213.466-4.13.466-4.13 6.813.484 10.396 6.996 10.396 6.996 6.054 10.371 15.888 7.375 19.754 5.642.617-4.387 2.367-7.38 4.309-9.075-15.071-1.712-30.917-7.537-30.917-33.546 0-7.408 2.646-13.466 6.988-18.212-.7-1.717-3.03-8.617.662-17.963 0 0 5.7-1.825 18.667 6.959 5.412-1.505 11.22-2.259 16.992-2.284 5.762.025 11.57.78 16.991 2.284 12.959-8.784 18.646-6.959 18.646-6.959 3.704 9.346 1.375 16.246.675 17.963 4.35 4.746 6.98 10.804 6.98 18.212 0 26.075-15.872 31.813-30.992 33.492 2.437 2.096 4.608 6.237 4.608 12.57 0 9.072-.083 16.392-.083 18.617 0 1.817 1.22 3.93 4.666 3.267 26.95-8.996 46.38-34.417 46.38-64.396 0-37.487-30.392-67.875-67.88-67.875"/>
      </svg>      
    </a>
  </nav>
</header>
<nav class="pagenav pagenav--top" aria-label="page">
  <div class="pagenav__item pagenav__item--left">
    <a class="pagenav__link link" href="index.html" aria-label="previous page">
      <svg alt="" width="12" height="11"><use xlink:href="#left"/>
      </svg><span class="pagenav__prev">Prev</span>
    </a>
  </div>
  <div class="pagenav__item pagenav__item--center">
    <a class="pagenav__link link" href="index.html" aria-label="parent page">
      <svg alt="" width="11" height="12"><use xlink:href="#up"/>
      </svg><span class="pagenav__up">Up</span>
    </a>
  </div>
  <div class="pagenav__item pagenav__item--right">
    <a class="pagenav__link link" href="2.html" aria-label="next page">
      <span class="pagenav__next">Next</span
        ><svg alt="" width="12" height="11"><use xlink:href="#right"/></svg>
    </a>
  </div>
</nav>
<main id="main">
<article>
<h1>
<span class="number">2.1</span> <a class="link" href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-14.html">Introduction to Data Abstraction<span class="nowrap">﻿<svg alt="" class="external" width="24" height="24"><use xlink:href="#external"/></svg></span></a>
</h1>
<ul>
<li>We already know about procedural abstraction: the procedure is a black box, and we don’t care how it is implemented internally.</li>
<li>Data abstractions allows us to isolate how a compound data object is used from the details of its actual representation.</li>
</ul>
<blockquote>
<p>That is, our programs should use data in such a way as to make no assumptions about the data that are not strictly necessary for performing the task at hand.</p>
</blockquote>
<ul>
<li>There is a concrete data representation behind the abstraction.</li>
<li>The interface between the two parts of the system is a set of procedures: selectors and constructors.</li>
</ul>
<h2 id="2.1.1" class="anchor">
<a class="anchor__link link" href="#2.1.1" aria-hidden="true">#</a> <span class="number">2.1.1</span> <a class="link" href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-14.html#%_sec_2.1.1">Example: Arithmetic Operations for Rational Numbers<span class="nowrap">﻿<svg alt="" class="external" width="24" height="24"><use xlink:href="#external"/></svg></span></a>
</h2>
<ul>
<li>We want to add, subtract, multiply, divide, and test equality with our rational numbers.</li>
<li>We assume we have <code class="sourceCode scheme">(make-rat <span class="sc">«</span><span class="ss">n</span><span class="sc">»</span> <span class="sc">«</span><span class="ss">d</span><span class="sc">»</span>)</code>, <code class="sourceCode scheme">(number <span class="sc">«</span><span class="ss">x</span><span class="sc">»</span>)</code>, and <code class="sourceCode scheme">(denom <span class="sc">«</span><span class="ss">x</span><span class="sc">»</span>)</code> available as the constructor and selectors.</li>
<li>This is wishful thinking, and it is a good technique.</li>
<li>A <em>pair</em> is a concrete structure that we create with <code class="sourceCode scheme"><span class="fu">cons</span></code>.</li>
<li>We extract the parts of the pair with <code class="sourceCode scheme"><span class="fu">car</span></code> and <code class="sourceCode scheme"><span class="fu">cdr</span></code>.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> x (<span class="fu">cons</span> <span class="cn">1</span> <span class="cn">2</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>(<span class="fu">car</span> x)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="cn">1</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>(<span class="fu">cdr</span> x)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cn">2</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> y (<span class="fu">cons</span> <span class="cn">3</span> <span class="cn">4</span>))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> z (<span class="fu">cons</span> x y))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>(<span class="fu">car</span> (<span class="fu">car</span> z))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="cn">1</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>(<span class="fu">car</span> (<span class="fu">cdr</span> z))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="cn">3</span></span></code></pre></div>
<ul>
<li>This is all the glue we need to implement all sorts of complex data structures.</li>
<li>Data objects constructed from pairs are <em>list-structured</em> data.</li>
<li>To ensure that our rational numbers are always in lowest terms, we need <code class="sourceCode scheme">make-rat</code> to divide the numerator and the denominator by their greatest common divisor (GCD).</li>
</ul>
<h2 id="2.1.2" class="anchor">
<a class="anchor__link link" href="#2.1.2" aria-hidden="true">#</a> <span class="number">2.1.2</span> <a class="link" href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-14.html#%_sec_2.1.2">Abstractions Barriers<span class="nowrap">﻿<svg alt="" class="external" width="24" height="24"><use xlink:href="#external"/></svg></span></a>
</h2>
<blockquote>
<p>In general, the underlying idea of data abstraction is to identify for each type of data object a basic set of operations in terms of which all manipulations of data objects of that type will be expressed, and then to use only those operations in manipulating the data. (118)</p>
</blockquote>
<ul>
<li>The details on the other side of an abstraction barrier are irrelevant to the code on this side.</li>
<li>This makes programs easier to maintain and modify.</li>
</ul>
<blockquote>
<p>Constraining the dependence on the representation to a few interface procedures helps us design programs as well as modify them, because it allows us to maintain the flexibility to consider alternate implementations. (121)</p>
</blockquote>
<h2 id="2.1.3" class="anchor">
<a class="anchor__link link" href="#2.1.3" aria-hidden="true">#</a> <span class="number">2.1.3</span> <a class="link" href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-14.html#%_sec_2.1.3">What Is Meant by Data?<span class="nowrap">﻿<svg alt="" class="external" width="24" height="24"><use xlink:href="#external"/></svg></span></a>
</h2>
<ul>
<li>Data is defined by some collection of selectors and constructors, together with specified conditions that these procedures must fulfill in order to be a valid representation.</li>
<li>For rationals, we have the following definition:
<ol type="1">
<li>We can construct a rational <code class="sourceCode scheme">x</code> with <code class="sourceCode scheme">(make-rat n d)</code>.</li>
<li>We can select the numerator with <code class="sourceCode scheme">(numer x)</code>.</li>
<li>We can select the denominator with <code class="sourceCode scheme">(denom x)</code>.</li>
<li>For all values of <code class="sourceCode scheme">x</code>, <code class="sourceCode scheme">(<span class="fu">/</span> (numer x) (denom x))</code> must equal <span class="math inline">n/d</span>.</li>
</ol></li>
<li>For pairs, it is even simpler: we need three operations, which we will call <code class="sourceCode scheme"><span class="fu">cons</span></code>, <code class="sourceCode scheme"><span class="fu">car</span></code>, and <code class="sourceCode scheme"><span class="fu">cdr</span></code>, such that if <code class="sourceCode scheme">z</code> is <code class="sourceCode scheme">(<span class="fu">cons</span> x y)</code>, then <code class="sourceCode scheme">(<span class="fu">car</span> z)</code> is <code class="sourceCode scheme">x</code> and <code class="sourceCode scheme">(<span class="fu">cdr</span> z)</code> is <code class="sourceCode scheme">y</code>.</li>
<li>Any triple of procedures satisfying this definition can be used to implement pairs. In fact, we can do it with procedures themselves and nothing else:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> (<span class="fu">cons</span> x y)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">lambda</span> (m)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="fu">=</span> m <span class="cn">0</span>) x y)))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> (<span class="fu">car</span> z) (z <span class="cn">0</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>(<span class="kw">define</span> (<span class="fu">cdr</span> z) (z <span class="cn">1</span>))</span></code></pre></div>
<ul>
<li>This doesn’t look like <em>data</em>, but it works.</li>
<li>This is how you implement pairs in the λ-calculus.</li>
<li>In real Lisp implementations, pairs are implemented directly, for reasons of efficiency—but they <em>could</em> be implemented this way and you wouldn’t be able to tell the difference.</li>
</ul>
<blockquote>
<p>[…] the ability to manipulate procedures as objects automatically provides the ability to represent compound data. (125)</p>
</blockquote>
<ul>
<li>This style of programming is often called <em>message passing</em>.</li>
</ul>
<h2 id="2.1.4" class="anchor">
<a class="anchor__link link" href="#2.1.4" aria-hidden="true">#</a> <span class="number">2.1.4</span> <a class="link" href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-14.html#%_sec_2.1.4">Extended Exercise: Interval Arithmetic<span class="nowrap">﻿<svg alt="" class="external" width="24" height="24"><use xlink:href="#external"/></svg></span></a>
</h2>
<ul>
<li>We want to design a system that allows us to manipulate inexact quantities with known precision (uncertainty).</li>
<li>To do this, we need arithmetic operations for combining intervals—ranges of possible values.</li>
</ul>
</article>
</main>
<nav class="pagenav pagenav--bottom" aria-label="page">
  <div class="pagenav__item pagenav__item--left">
    <a class="pagenav__link link" href="index.html" aria-label="previous page">
      <svg alt="" width="12" height="11"><use xlink:href="#left"/>
      </svg><span class="pagenav__prev">Prev</span>
    </a>
  </div>
  <div class="pagenav__item pagenav__item--center">
    <a class="pagenav__link link" href="index.html" aria-label="parent page">
      <svg alt="" width="11" height="12"><use xlink:href="#up"/>
      </svg><span class="pagenav__up">Up</span>
    </a>
  </div>
  <div class="pagenav__item pagenav__item--right">
    <a class="pagenav__link link" href="2.html" aria-label="next page">
      <span class="pagenav__next">Next</span
        ><svg alt="" width="12" height="11"><use xlink:href="#right"/></svg>
    </a>
  </div>
</nav>
<footer class="footer">
  <p>© 2020 Mitchell Kember</p>
</footer>
</body>
</html>
